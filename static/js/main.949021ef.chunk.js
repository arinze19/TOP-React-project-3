(this["webpackJsonppoke-memo"]=this["webpackJsonppoke-memo"]||[]).push([[0],{73:function(n,e,t){},74:function(n,e,t){"use strict";t.r(e);var o=t(3),r=t.n(o),a=t(44),i=t.n(a),c=t(16),s=t(21),l=t.n(s),d=t(29),h=t(34),m=t(79);function p(n,e){for(var t=new Set,o=[],r=0;r<2*e;r++){for(var a=Math.floor(Math.random()*n.length);t.has(a);)a=Math.floor(Math.random()*n.length);o.push(n[a]),t.add(a)}return o}var j,u,b,x=function(){var n=Object(d.a)(l.a.mark((function n(e){var t,o,r,a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Math.floor(80*Math.random()),n.next=3,m.a.get("https://pokeapi.co/api/v2/pokemon?limit=".concat(e+10,"&offset=").concat(10*t));case 3:return o=n.sent,r=o.data,a=r.results.map((function(n,e){var t=n.url.slice(34,-1).toString().padStart(3,"0");return n.id=e,n.url="https://assets.pokemon.com/assets/cms2/img/pokedex/full/".concat(t,".png"),n.isClicked=!1,n})),n.abrupt("return",p(a,e));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),g=t(7),f=t(8),O=t(2);const v=n=>{let{pokemon:e,handleClick:t}=n;return Object(O.jsxs)(y,{onClick:()=>t(e.id),children:[Object(O.jsx)("img",{src:e.url,alt:e.name}),Object(O.jsx)("hr",{}),Object(O.jsx)("span",{children:e.name})]})},k=f.a.div(j||(j=Object(g.a)(["\n  h2 {\n    text-align: center;\n  }\n"]))),y=f.a.div(u||(u=Object(g.a)(["\n  padding: 16px;\n  text-align: center;\n  display: flex;\n  border-radius: 8px;\n  flex-direction: column;\n  gap: 4px;\n  background-color: #ffd50074;\n  cursor: pointer;\n  margin: 1em;\n  transition: all 0.3s ease-in-out;\n\n  img {\n    width: 120px;\n    height: 120px;\n  }\n\n  hr {\n    border: none;\n    height: 1px;\n    background-color: #10162f;\n  }\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n  @media (max-width: 768px) {\n    img {\n      width: 80px;\n      height: 80px;\n    }\n  }\n"]))),w=f.a.div(b||(b=Object(g.a)(["\n  display: flex;\n  width: 50%;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin: 2rem auto;\n  max-width: 1220px;\n\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"])));var C,M,S=n=>{let{level:e,score:t,pokemons:r,onChange:a}=n;const i=Object(o.useMemo)((()=>({handleChange:n=>{const o={pokemons:[...r],score:t},i=r.findIndex((e=>e.id===n));if(o.pokemons[i].isClicked)return a({modal:"game_over"});o.pokemons[i]=Object.assign(r[i],{isClicked:!0});const c=localStorage.getItem("high_score")?JSON.parse(localStorage.getItem("high_score")):0;if(o.score+=1,o.score>c&&localStorage.setItem("high_score",JSON.stringify(o.score)),o.pokemons.every((n=>!0===n.isClicked)))return a({level:e+1,score:t+1});a(o)}})),[t]),c=Object(o.useMemo)((()=>function(n){for(var e=Object(h.a)(n),t=e.length-1;t>0;t--){var o=Math.floor(Math.random()*(t+1)),r=[e[o],e[t]];e[t]=r[0],e[o]=r[1]}return e}(r)),[t]);return Object(O.jsxs)(k,{children:[Object(O.jsxs)("h2",{children:["Level: ",e]}),Object(O.jsx)(w,{children:c.map(((n,e)=>Object(O.jsx)(v,{pokemon:n,handleClick:()=>i.handleChange(n.id)},e)))})]})};const _=f.a.header(C||(C=Object(g.a)(["\n  background-color: #10162f;\n  padding: 0.5rem;\n  color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  .la-star {\n    color: #ffd500;\n  }\n\n  ul {\n    margin-right: 2rem;\n    padding: 0;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n\n    ul {\n      display: flex;\n      justify-content: space-between;\n      width: 100%;\n      margin: 0;\n      padding: 0 1rem;\n    }\n  }\n"]))),I=f.a.div(M||(M=Object(g.a)(["\n  display: flex;\n  align-items: center;\n\n  img {\n    width: 120px;\n    height: 100px;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    justify-content: center;\n\n    h1 {\n      display: none;\n    }\n  }\n"])));var N,G,J=function(n){let{score:e}=n;const t=Object(o.useMemo)((()=>{const n=localStorage.getItem("high_score");return n?JSON.parse(n):0}),[e]);return Object(O.jsxs)(_,{children:[Object(O.jsxs)(I,{children:[Object(O.jsx)("img",{src:"https://res.cloudinary.com/dmrib2gtg/image/upload/v1697921863/logo_ktdpcf.png",alt:"poke-memo"}),Object(O.jsx)("h1",{children:"Poke Memo"})]}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsxs)("span",{children:["Your Score: ",e]})}),Object(O.jsx)("li",{children:Object(O.jsxs)("span",{children:["High Score",Object(O.jsx)("i",{className:"las la-star"}),": ",t]})})]})]})};var Q,T,z,E,F=f.a.div(N||(N=Object(g.a)(["\n  display: flex;\n  width: 50%;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin: 2rem auto;\n  max-width: 1220px;\n"]))),P=f.a.div(G||(G=Object(g.a)(["\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n\n  div {\n    box-sizing: border-box;\n    display: block;\n    position: absolute;\n    width: 64px;\n    height: 64px;\n    margin: 8px;\n    border: 8px solid #3a10e5;\n    border-radius: 50%;\n    animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n    border-color: #3a10e5 transparent transparent transparent;\n\n    &:nth-child(1) {\n      animation-delay: -0.45s;\n    }\n\n    &:nth-child(2) {\n      animation-delay: -0.3s;\n    }\n\n    &:nth-child(3) {\n      animation-delay: -0.15s;\n    }\n\n    @keyframes lds-ring {\n      0% {\n        transform: rotate(0deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n  }\n"]))),L=function(){return Object(O.jsx)(F,{children:Object(O.jsxs)(P,{children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})})},Y=f.a.button(Q||(Q=Object(g.a)(["\n  border: none;\n  border-radius: 4px;\n  padding: 8px;\n  color: #fff;\n  width: 100%;\n  background-color: #5001d0;\n  font-weight: bold;\n"]))),B=function(n){var e=n.children,t=n.onClick;return Object(O.jsx)(Y,{onClick:t,children:e})},H=f.a.div(T||(T=Object(g.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: grid;\n  place-content: center;\n  width: 100%;\n  height: 100%;\n  transition: all 0.3s ease-in-out;\n\n  ","\n"])),(function(n){return n.open?"\n        background-color: rgba(0, 0, 0, 0.5);\n        pointer-events: all;\n        opacity: 1;\n      ":"\n        background-color: rgba(0, 0, 0, 0);\n        pointer-events: none;\n        opacity: 0;\n      "})),R=f.a.div(z||(z=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  position: absolute;\n  background-color: white;\n  left: 50%;\n  top: 25%;\n  width: 80%;\n  max-width: 500px;\n  border-radius: 4px;\n  padding: 1rem;\n  text-align: center;\n  transition: all 0.5s ease-in-out;\n\n  ","\n"])),(function(n){return n.open?"\n        transform: translate(-50%, 0);\n      ":"\n        transform: translate(-50%, -100%);\n        opacity: 0;\n        pointer-events: none;\n      "})),q=function(n){var e=n.children,t=n.header,o=n.onClose,r=n.open;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(H,{open:r,onClick:o}),Object(O.jsxs)(R,{open:r,children:[Object(O.jsx)("div",{className:"modal-header",children:Object(O.jsx)("h2",{children:t})}),Object(O.jsx)("div",{className:"modal-children",children:e}),Object(O.jsx)("div",{className:"modal-footer",children:Object(O.jsx)(B,{onClick:o,children:"Close"})})]})]})};const A=f.a.div(E||(E=Object(g.a)(["\n  position: fixed;\n  bottom: 1rem;\n  left: 1rem;\n\n  button {\n    border: 1px solid #ffd500;\n    border-radius: 4px;\n    font-size: 0.85rem;\n    font-weight: bold;\n    padding: 4px 8px;\n    background-color: #ffd50074;\n  }\n"])));var D=n=>{let{onChange:e}=n;return Object(O.jsx)(A,{children:Object(O.jsx)("button",{onClick:()=>e({modal:"game_play"}),children:"Instructions"})})},K=t(33),U=t.n(K);const V={score:0,level:1,pokemons:[],modal:""};var W;const X=f.a.div(W||(W=Object(g.a)(["\n  position: fixed;\n  bottom: 1rem;\n  right: 1rem;\n  border-radius: 4px;\n  background-color: #ffd50074;\n  border: 1px solid #ffd500;\n  padding: 0.5rem 1rem;\n"])));var Z=n=>{let{level:e,modal:t,loading:r,onChange:a}=n;const[i,c]=Object(o.useState)(10);Object(o.useEffect)((()=>{const n=setInterval((()=>{c((n=>r||"game_over"===t?n:0===n?(a({modal:"game_over"}),0):n-1))}),1e3);return()=>clearTimeout(n)}),[t]),Object(o.useEffect)((()=>{c(2*(i+e))}),[e]);const s=Object(o.useMemo)((()=>{const n=U.a.duration(i,"seconds");return U.a.utc(n.asMilliseconds()).format("mm:ss")}),[i]);return Object(O.jsx)(X,{children:Object(O.jsx)("strong",{children:s})})};var $=function(){const n=Object(c.useQueryClient)(),[e,t]=Object(o.useState)(V),r=Object(o.useMemo)((()=>({onChange:n=>{t((e=>Object.assign({},e,n)))},resetGame:()=>{t(V),n.invalidateQueries()}})),[t]),{isLoading:a,isFetching:i}=Object(c.useQuery)("https://pokeapi.co/api/v2/pokemon?limit=".concat(e.level+10),(()=>x(e.level)),{staleTime:1/0,onSuccess:n=>{r.onChange({pokemons:n})}});return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(J,{score:e.score}),a||i?Object(O.jsx)(L,{}):Object(O.jsx)(S,{level:e.level,score:e.score,pokemons:e.pokemons,onChange:r.onChange}),Object(O.jsx)(D,{onChange:r.onChange}),Object(O.jsx)(Z,{level:e.level,modal:e.modal,loading:a||i,onChange:r.onChange}),Object(O.jsxs)(q,{header:"Game Over",open:"game_over"===e.modal,onClose:()=>r.resetGame(),children:["This game is over. Your score is ",e.score,". Good game!"]}),Object(O.jsx)(q,{header:"Game Play",open:"game_play"===e.modal,onClose:()=>r.onChange({modal:""}),children:"This game tests your memory. Click on a pokemon to earn points. If you click on the same pokemon twice, the game is over. If you click on all pokemons exactly once, you level up. Good luck!"})]})};t(73);const nn=new c.QueryClient;i.a.createRoot(document.getElementById("root")).render(Object(O.jsx)(c.QueryClientProvider,{client:nn,children:Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)($,{})})}))}},[[74,1,2]]]);
//# sourceMappingURL=main.949021ef.chunk.js.map