{"version":3,"sources":["components/layout/TheHeader.tsx","components/layout/TheLoader.tsx","components/layout/TheMenu.tsx","components/cards/CardItem.tsx","components/cards/CardList.tsx","helper-functions/app/index.tsx","App.tsx","index.tsx"],"names":["header","score","className","src","alt","currentScore","highScore","TheLoader","TheMenu","React","useState","infoVisible","setInfoVisible","style","display","onClick","cardItem","pokemon","handleClick","id","url","name","cardList","pokemons","pokemonsList","map","idx","CardItem","randomPicker","level","pokemonCatalog","counter","boundary","newArray","idCache","randomInt","Math","floor","random","length","indexOf","randomItem","push","getPokemons","a","offset","axios","get","data","results","item","idxPad","slice","toString","padStart","isClicked","String","initialScore","JSON","parse","localStorage","getItem","App","setScore","current","setLevel","setPokemons","isLoading","setIsLoading","isError","setIsError","useEffect","Fragment","TheHeader","textAlign","CardList","clickedPokemonIdx","findIndex","alert","prevScore","stringify","setItem","every","prevLevel","shuffledPokemons","r","forEach","val","randomArranger","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8af538c4.chunk.js","sourcesContent":["import '@styles/layout/the-header.css';\nimport { HeaderProps } from '../../types';\n\nfunction header({ score }: HeaderProps) {\n  return (\n    <header className='header-container'>\n      <div className='header-container__logo'>\n        <img src='/logo.png' alt='poke-memo' />\n        <h1>Poke Memo</h1>\n      </div>\n\n      <ul className='header-container__score-info'>\n        <li data-testid='current-score'>Your Score: {score.currentScore}</li>\n        <li data-testid='high-score'>\n          High Score<i className='las la-star'></i>: {score.highScore}\n        </li>\n      </ul>\n    </header>\n  );\n}\n\nexport default header;\n","import '@styles/layout/the-loader.css';\n\nfunction TheLoader() {\n  return (\n    <div className='loader-container'>\n      <div className='lds-ring'>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n}\n\nexport default TheLoader;\n","import React from 'react';\nimport '@styles/layout/the-menu.css';\n\nfunction TheMenu() {\n  const [infoVisible, setInfoVisible] = React.useState(true);\n\n  const hideInfoStyle = { display: 'none' };\n  const showInfoStyle = { display: 'block' };\n\n  return (\n    <>\n      <div\n        className='menu-info-container'\n        style={infoVisible ? showInfoStyle : hideInfoStyle}\n        data-testid='the-menu'\n      >\n        <div className='menu-info-container__header'>\n          <h3>Objective</h3>\n        </div>\n        <div className='menu-info-container__body'>\n          <p>\n            This application puts your memory to the test. You are presented\n            with multiple images of pokemons. The images get shuffled every-time\n            they are clicked. You CAN NOT click on any image more than once or\n            else your score resets to zero. The main objective is to get the\n            highest score as possible.. Goodluck üçÄ\n          </p>\n          <button\n            className='menu-info-container__button'\n            onClick={() => setInfoVisible(false)}\n            data-testid='the-menu-button'\n          >\n            Okay\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default TheMenu;\n","import '@styles/cards/card-item.css';\nimport { CardItemProps } from '../../types';\n\nfunction cardItem({ pokemon, handleClick }: CardItemProps) {\n  return (\n    <div\n      className='card'\n      onClick={() => handleClick(pokemon.id)}\n      data-testid='card-item'\n    >\n      <img src={pokemon.url} alt={pokemon.name} />\n      <hr />\n      <div className='card-item-container__info' data-testid='card-item-name'>\n        {pokemon.name}\n      </div>\n    </div>\n  );\n}\n\nexport default cardItem;\n","import CardItem from './CardItem';\nimport '@styles/cards/card-list.css';\nimport { CardListProps } from '../../types';\n\nfunction cardList({ pokemons, handleClick }: CardListProps) {\n  const pokemonsList = pokemons.map((pokemon, idx) => (\n    <CardItem pokemon={pokemon} key={idx} handleClick={handleClick} />\n  ));\n\n  return <div className='card-list-container'>{pokemonsList}</div>;\n}\n\nexport default cardList;\n","import axios from 'axios';\nimport { pokemon } from '../../types';\n\nexport function randomPicker(\n  level: number,\n  pokemonCatalog: pokemon[]\n): pokemon[] {\n  let counter = 0;\n  const boundary = level * 2;\n  const newArray: pokemon[] = [];\n  const idCache: number[] = [];\n\n  do {\n    const randomInt = Math.floor(Math.random() * pokemonCatalog.length);\n\n    if (idCache.indexOf(randomInt) === -1) {\n      const randomItem = pokemonCatalog[randomInt];\n      idCache.push(randomInt);\n      newArray.push(randomItem);\n      counter++;\n    }\n  } while (counter < boundary);\n\n  return newArray;\n}\n\nexport function randomArranger(pokemons: pokemon[]): pokemon[] {\n  const newArray = [];\n  const shuffledPokemons: pokemon[] = [];\n  const boundary = pokemons.length;\n\n  while (newArray.length < boundary) {\n    const r = Math.floor(Math.random() * boundary);\n    if (newArray.indexOf(r) === -1) newArray.push(r);\n  }\n  newArray.forEach((val) => shuffledPokemons.push(pokemons[val]));\n  return shuffledPokemons;\n}\n\nexport const getPokemons = async (\n  level: number\n): Promise<[pokemon[], unknown]> => {\n  try {\n    const offset = Math.floor(Math.random() * 80); // pokeapi has 1154 pokemons, so enabling pagination offset of up to 1000?\n    const { data } = await axios.get(\n      `https://pokeapi.co/api/v2/pokemon?limit=${level + 10}&offset=${\n        offset * 10\n      }`\n    );\n\n    const pokemons: pokemon[] = data.results.map(\n      (item: pokemon, idx: number) => {\n        const idxPad = item.url.slice(34, -1).toString().padStart(3, '0'); // this is to account for the lack accurate index of each pokemon when fetching as a list. hence some manipulation to get the appropiate image\n        item.id = idx;\n        item.url = `https://assets.pokemon.com/assets/cms2/img/pokedex/full/${idxPad}.png`;\n        item.isClicked = false;\n\n        return item;\n      }\n    );\n\n    return [randomPicker(level, pokemons), null];\n  } catch (error) {\n    return [[], String(error)];\n  }\n};\n","import React from 'react';\nimport { TheHeader, TheLoader, TheMenu } from '@components/layout';\nimport { CardList } from '@components/cards';\nimport { randomArranger, getPokemons } from '@helpers/app';\nimport { pokemon, score } from './types';\n\n//  ============ initial state values\nconst initialScore: score = {\n  currentScore: 0,\n  highScore: +JSON.parse(localStorage.getItem('highScore')!) || 0,\n};\n\nfunction App() {\n  const [score, setScore] = React.useState<score>(initialScore);\n  const [level, setLevel] = React.useState({ current: 1 });\n  const [pokemons, setPokemons] = React.useState<pokemon[]>([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [isError, setIsError] = React.useState(false);\n\n  const handleClick = (id: number) => {\n    const clickedPokemonIdx = pokemons.findIndex(\n      (pokemon: pokemon) => pokemon.id === id\n    );\n    // end game if selected pokemon has been clicked\n    if (pokemons[clickedPokemonIdx].isClicked) {\n      alert('Game Over Champ. Good game');\n      setScore((prevScore) => {\n        return {\n          ...prevScore,\n          currentScore: 0,\n        };\n      });\n      return setLevel({ ...level, current: 1 });\n    }\n    setScore((prevScore) => {\n      if (prevScore.currentScore >= prevScore.highScore) {\n        // set new high score in local storage\n        const highScore = prevScore.currentScore + 1;\n        JSON.stringify(localStorage.setItem('highScore', highScore.toString()));\n        return {\n          currentScore: prevScore.currentScore + 1,\n          highScore: prevScore.currentScore + 1,\n        };\n      } else {\n        return {\n          ...prevScore,\n          currentScore: prevScore.currentScore + 1,\n        };\n      }\n    });\n    pokemons[clickedPokemonIdx].isClicked = true;\n    const allPokesClicked = pokemons.every(\n      (pokemon) => pokemon.isClicked === true\n    );\n    if (allPokesClicked) {\n      // upgrade level if all pokemons have been clicked\n      setLevel((prevLevel) => ({\n        ...prevLevel,\n        current: prevLevel.current + 1,\n      }));\n    } else {\n      // shuffle pokemons and set pokemon state\n      setPokemons(randomArranger(pokemons));\n    }\n  };\n\n  React.useEffect(() => {\n    (async () => {\n      setIsLoading(true);\n      setIsError(false);\n      const [pokemons, error] = await getPokemons(level.current);\n\n      if (error) {\n        setIsError(true);\n      } else {\n        setPokemons(pokemons);\n      }\n\n      setIsLoading(false);\n    })();\n  }, [level]);\n\n  return (\n    <React.Fragment>\n      <TheHeader score={score} />\n      <h2 style={{ textAlign: 'center' }}>Level {level.current}</h2>\n      {isLoading ? (\n        <TheLoader />\n      ) : isError ? (\n        <h1>Oops, something went wrong</h1>\n      ) : (\n        <CardList pokemons={pokemons} handleClick={handleClick} />\n      )}\n      <TheMenu />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}