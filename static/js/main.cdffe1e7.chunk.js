(this["webpackJsonppoke-memo"]=this["webpackJsonppoke-memo"]||[]).push([[0],{87:function(n,e,t){},88:function(n,e,t){"use strict";t.r(e);var r,o,i=t(1),a=t.n(i),c=t(54),s=t.n(c),l=t(18),d=t(26),p=d.b,u=d.c,m=t(8),h=t(9),j=t(3);var b=h.a.div(r||(r=Object(m.a)(["\n  display: flex;\n  width: 50%;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin: 2rem auto;\n  max-width: 1220px;\n"]))),x=h.a.div(o||(o=Object(m.a)(["\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n\n  div {\n    box-sizing: border-box;\n    display: block;\n    position: absolute;\n    width: 64px;\n    height: 64px;\n    margin: 8px;\n    border: 8px solid #3a10e5;\n    border-radius: 50%;\n    animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n    border-color: #3a10e5 transparent transparent transparent;\n\n    &:nth-child(1) {\n      animation-delay: -0.45s;\n    }\n\n    &:nth-child(2) {\n      animation-delay: -0.3s;\n    }\n\n    &:nth-child(3) {\n      animation-delay: -0.15s;\n    }\n\n    @keyframes lds-ring {\n      0% {\n        transform: rotate(0deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n  }\n"]))),f=function(){return Object(j.jsx)(b,{children:Object(j.jsxs)(x,{children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})})},g=t(43),O=t(19),v=t(36),k=Object(v.b)({name:"pokemon-memo",initialState:{score:0,level:1,modal:"",pokemons:[]},reducers:{setScore:function(n,e){n.score=e.payload},setLevel:function(n,e){n.level=e.payload},setModal:function(n,e){n.modal=e.payload},setPokemons:function(n,e){n.pokemons=e.payload},resetStore:function(n){n.level=1,n.modal="",n.pokemons=[],n.score=0}}}),y=k.actions,w=y.setScore,C=y.setLevel,S=y.setModal,M=y.setPokemons,I=y.resetStore,_=k.reducer,N=t(28),P=t.n(N),J=t(45),Q=t(93);function G(n,e){for(var t=new Set,r=[],o=0;o<2*e;o++){for(var i=Math.floor(Math.random()*n.length);t.has(i);)i=Math.floor(Math.random()*n.length);r.push(n[i]),t.add(i)}return r}function L(n){for(var e=Object(O.a)(n),t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),o=[e[r],e[t]];e[t]=o[0],e[r]=o[1]}return e}var z,F,T,Y,B,E=function(){var n=Object(J.a)(P.a.mark((function n(e){var t,r,o,i;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Math.floor(80*Math.random()),n.next=3,Q.a.get("https://pokeapi.co/api/v2/pokemon?limit=".concat(e+10,"&offset=").concat(10*t));case 3:return r=n.sent,o=r.data,i=o.results.map((function(n,e){var t=n.url.slice(34,-1).toString().padStart(3,"0");return n.id=e,n.url="https://assets.pokemon.com/assets/cms2/img/pokedex/full/".concat(t,".png"),n.isClicked=!1,n})),n.abrupt("return",G(i,e));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),H=function(){var n=p(),e=u((function(n){return n.app.score})),t=u((function(n){return n.app.pokemons})),r=u((function(n){return n.app.level}));return{handlePokemonClick:function(o){var i={pokemons:Object(O.a)(t),score:e},a=t.findIndex((function(n){return n.id===o}));if(i.pokemons[a].isClicked)return n(S("game_over"));i.pokemons[a]=Object(g.a)(Object(g.a)({},t[a]),{},{isClicked:!0});var c=localStorage.getItem("high_score")?JSON.parse(localStorage.getItem("high_score")):0;if(i.score+=1,i.score>c&&localStorage.setItem("high_score",JSON.stringify(i.score)),n(w(i.score)),i.pokemons.every((function(n){return!0===n.isClicked})))n(C(r+1));else{var s=L(i.pokemons);n(M(s))}}}},R=function(n){var e=n.pokemon,t=n.handleClick;return Object(j.jsxs)(A,{onClick:function(){return t(e.id)},children:[Object(j.jsx)("img",{src:e.url,alt:e.name}),Object(j.jsx)("hr",{}),Object(j.jsx)("span",{children:e.name})]})},q=h.a.div(z||(z=Object(m.a)(["\n  h2 {\n    text-align: center;\n  }\n"]))),A=h.a.div(F||(F=Object(m.a)(["\n  padding: 16px;\n  text-align: center;\n  display: flex;\n  border-radius: 8px;\n  flex-direction: column;\n  gap: 4px;\n  background-color: #ffd50074;\n  cursor: pointer;\n  margin: 1em;\n  transition: all 0.3s ease-in-out;\n\n  img {\n    width: 120px;\n    height: 120px;\n  }\n\n  hr {\n    border: none;\n    height: 1px;\n    background-color: #10162f;\n  }\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n  @media (max-width: 768px) {\n    img {\n      width: 80px;\n      height: 80px;\n    }\n  }\n"]))),D=h.a.div(T||(T=Object(m.a)(["\n  display: flex;\n  width: 50%;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin: 2rem auto;\n  max-width: 1220px;\n\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]))),K=function(){var n=p(),e=u((function(n){return n.app})),t=H().handlePokemonClick,r=Object(l.useQuery)("https://pokeapi.co/api/v2/pokemon?limit=".concat(e.level+10),(function(){return E(e.level)}),{staleTime:1/0,onSuccess:function(e){var t=L(e);n(M(t))}}),o=r.isLoading,i=r.isFetching;return o||i?Object(j.jsx)(f,{}):Object(j.jsxs)(q,{children:[Object(j.jsxs)("h2",{children:["Level: ",e.level]}),Object(j.jsx)(D,{children:e.pokemons.map((function(n,e){return Object(j.jsx)(R,{pokemon:n,handleClick:t},e)}))})]})};var U,V,W,X,Z=h.a.header(Y||(Y=Object(m.a)(["\n  background-color: #10162f;\n  padding: 0.5rem;\n  color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  .la-star {\n    color: #ffd500;\n  }\n\n  ul {\n    margin-right: 2rem;\n    padding: 0;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n\n    ul {\n      display: flex;\n      justify-content: space-between;\n      width: 100%;\n      margin: 0;\n      padding: 0 1rem;\n    }\n  }\n"]))),$=h.a.div(B||(B=Object(m.a)(["\n  display: flex;\n  align-items: center;\n\n  img {\n    width: 120px;\n    height: 100px;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    justify-content: center;\n\n    h1 {\n      display: none;\n    }\n  }\n"]))),nn=function(){var n=u((function(n){return n.app.score})),e=Object(i.useMemo)((function(){var n=localStorage.getItem("high_score");return n?JSON.parse(n):0}),[n]);return Object(j.jsxs)(Z,{children:[Object(j.jsxs)($,{children:[Object(j.jsx)("img",{src:"https://res.cloudinary.com/dmrib2gtg/image/upload/v1697921863/logo_ktdpcf.png",alt:"poke-memo"}),Object(j.jsx)("h1",{children:"Poke Memo"})]}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsxs)("span",{children:["Your Score: ",n]})}),Object(j.jsx)("li",{children:Object(j.jsxs)("span",{children:["High Score",Object(j.jsx)("i",{className:"las la-star"}),": ",e]})})]})]})},en=h.a.button(U||(U=Object(m.a)(["\n  border: none;\n  border-radius: 4px;\n  padding: 8px;\n  color: #fff;\n  width: 100%;\n  background-color: #5001d0;\n  font-weight: bold;\n"]))),tn=function(n){var e=n.children,t=n.onClick;return Object(j.jsx)(en,{onClick:t,children:e})},rn=h.a.div(V||(V=Object(m.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: grid;\n  place-content: center;\n  width: 100%;\n  height: 100%;\n  transition: all 0.3s ease-in-out;\n\n  ","\n"])),(function(n){return n.open?"\n        background-color: rgba(0, 0, 0, 0.5);\n        pointer-events: all;\n        opacity: 1;\n      ":"\n        background-color: rgba(0, 0, 0, 0);\n        pointer-events: none;\n        opacity: 0;\n      "})),on=h.a.div(W||(W=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  position: absolute;\n  background-color: white;\n  left: 50%;\n  top: 25%;\n  width: 80%;\n  max-width: 500px;\n  border-radius: 4px;\n  padding: 1rem;\n  text-align: center;\n  transition: all 0.5s ease-in-out;\n\n  ","\n"])),(function(n){return n.open?"\n        transform: translate(-50%, 0);\n      ":"\n        transform: translate(-50%, -100%);\n        opacity: 0;\n        pointer-events: none;\n      "})),an=function(n){var e=n.children,t=n.header,r=n.onClose,o=n.open;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(rn,{open:o,onClick:r}),Object(j.jsxs)(on,{open:o,children:[Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("h2",{children:t})}),Object(j.jsx)("div",{className:"modal-children",children:e}),Object(j.jsx)("div",{className:"modal-footer",children:Object(j.jsx)(tn,{onClick:r,children:"Close"})})]})]})},cn=h.a.div(X||(X=Object(m.a)(["\n  position: fixed;\n  bottom: 1rem;\n  left: 1rem;\n\n  button {\n    border: 1px solid #ffd500;\n    border-radius: 4px;\n    font-size: 0.85rem;\n    font-weight: bold;\n    padding: 4px 8px;\n    background-color: #ffd50074;\n  }\n"]))),sn=function(){var n=p();return Object(j.jsx)(cn,{children:Object(j.jsx)("button",{onClick:function(){return n(S("game_play"))},children:"Instructions"})})};var ln=function(){var n=u((function(n){return n.app.modal})),e=u((function(n){return n.app.score})),t=Object(l.useQueryClient)(),r=p();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(nn,{}),Object(j.jsx)(K,{}),Object(j.jsx)(sn,{}),Object(j.jsxs)(an,{header:"Game Over",open:"game_over"===n,onClose:function(){r(I()),t.invalidateQueries()},children:["This game is over. Your score is ",e,". Good game!"]}),Object(j.jsx)(an,{header:"Game Play",open:"game_play"===n,onClose:function(){return r(S(""))},children:"This game tests your memory. Click on a pokemon to earn points. If you click on the same pokemon twice, the game is over. If you click on all pokemons exactly once, you level up. Good luck!"})]})},dn=Object(v.a)({reducer:{app:_}}),pn=(t(87),new l.QueryClient);s.a.createRoot(document.getElementById("root")).render(Object(j.jsx)(l.QueryClientProvider,{client:pn,children:Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(d.a,{store:dn,children:Object(j.jsx)(ln,{})})})}))}},[[88,1,2]]]);
//# sourceMappingURL=main.cdffe1e7.chunk.js.map